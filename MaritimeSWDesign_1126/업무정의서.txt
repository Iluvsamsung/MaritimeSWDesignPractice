해상 항법 시뮬레이터 (AIS & OS) 기능 요구 정의서
본 시스템은 다중 선박의 AIS 데이터와 본선(Own Ship)의 항해 데이터를 가상으로 생성하여 외부 시스템(ECDIS, VTS 등)으로 전송하는 시뮬레이터입니다. 크게 AIS 타겟 시뮬레이터와 본선 시뮬레이터로 구성됩니다.

1. AIS 시뮬레이터: 시스템 설정 및 초기화
1.1 AIS Simulator을 실행하면 메인 윈도우가 뜨며, 좌측에는 지도 화면이, 우측에는 제어 패널이 표시됩니다.
1.2 시뮬레이션 데이터를 전송할 대상(Destination) IP 주소와 포트 번호를 설정할 수 있습니다. (기본값: 192.168.10.3 / 10120)
1.3 지도는 기본적으로 부산항 인근(35.10, 129.04)으로 초기화되어 표시되며, 사용자는 지도를 확대/축소 및 이동할 수 있습니다.

2. AIS 시뮬레이터: 타겟 생성 및 관리
2.1 항로 계획: 사용자가 지도상의 임의의 지점을 클릭하면 해당 위치에 항로점(Waypoint)이 순차적으로 생성되고, 점들을 잇는 경로가 시각적으로 표시됩니다.
2.2 타겟 상세 정보 입력: ‘신규 타겟 생성’ 버튼을 클릭하면 세부 정보 입력 팝업창이 뜹니다.
2.3 정보 입력 항목: 사용자는 팝업창에서 MMSI(국가코드 기반 자동 생성 가능), 선박명, 선종, 호출부호, 선박 크기(길이/폭), 흘수, 목적지, ETA, 초기 속도 등을 설정할 수 있습니다.
2.4 타겟 추가: 항로 설정과 상세 정보 입력이 완료된 상태에서 ‘타겟 추가’ 버튼을 누르면, 해당 선박이 우측 타겟 목록(Listbox)에 등록됩니다.
2.5 수정 및 삭제: 목록에 등록된 타겟을 더블 클릭하거나 선택하여 정보를 수정할 수 있으며, 삭제 버튼을 통해 목록에서 제거할 수 있습니다.
2.6 초기화: ‘전체 초기화’ 버튼을 누르면 현재 설정된 모든 항로점과 타겟 목록이 삭제됩니다.

3. AIS 시뮬레이터: 시뮬레이션 실행
3.1 개별 제어: 목록에서 특정 타겟을 선택한 후 ‘선택한 타겟 시작’ 또는 ‘중지’ 버튼을 눌러 독립적으로 시뮬레이션을 제어할 수 있습니다.
3.2 운동 역학: 시뮬레이션이 시작되면 선박은 설정된 속도와 선회율(Rate of Turn)에 따라 항로점을 따라 이동하며, 가속 및 감속 물리 엔진이 적용됩니다. 
3.3 데이터 전송:
동적 데이터(Msg 1): 선박의 위치, 속도(SOG), 선수각(HDG) 정보를 6초 주기로 전송합니다.
정적 데이터(Msg 5): 선박의 이름, 크기, 목적지 정보를 30초 주기로 전송합니다.
모든 데이터는 !AIVDM 포맷으로 인코딩되어 TCP 소켓으로 전송됩니다. 3.4 목적지 도달: 선박이 마지막 항로점에 도달하면 자동으로 속도를 줄여 정지하며, 항해 상태를 Moored(계류)등으로 변경하여 전송합니다.

4. 본선(OS) 시뮬레이터: 운항 제어
4.1 본선 시뮬레이터(OS Simulator)는 내 배를 제어하기 위한 별도의 프로그램입니다.
4.2 네트워크 설정: 본선 센서 데이터를 전송할 IP와 포트를 설정할 수 있습니다. (기본값 Port: 10110)
4.3 항로 및 속도 설정: 지도 클릭으로 항로를 생성하고, 별도의 팝업 없이 메인 화면의 입력창(Entry)에 운항 속도(Knot)를 직접 입력합니다.
4.4 시뮬레이션 제어: ‘시뮬레이션 시작’ 버튼을 누르면 본선이 항해를 시작하며, 지도의 마커가 실시간으로 이동합니다.
4.5 데이터 전송: 본선의 GPS($GPRMC), 자이로($HEHDT, $GPROT), 수심($SDDPT), 풍향/풍속($WIMWV) 데이터가 NMEA 0183 텍스트 포맷으로 전송됩니다.
4.6 운항 종료: 시뮬레이션 중지 를 누르거나 목적지에 도착하면 속도 0.0의 데이터를 전송하며 연결을 종료합니다.